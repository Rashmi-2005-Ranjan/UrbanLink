<div class="min-h-screen flex flex-col items-center bg-gray-100 p-4">
  <h1 class="text-2xl font-bold text-center mb-5">View Requests</h1>

  <div *ngIf="filteredRequests.length === 0" class="text-gray-500 text-center">
    No requests available.
  </div>

  <div *ngFor="let request of filteredRequests"
    class="bg-white shadow-md rounded-lg p-6 border border-gray-300 w-full max-w-3xl mb-4">

    <h3 class="text-lg font-bold text-blue-700">{{ request.serviceName }}</h3>
    <p><strong>Requested By:</strong> {{ getUserEmail(request.userEmail) }}</p>
    <p><strong>Location:</strong> {{ request.location }}</p>
    <p><strong>Provider Name:</strong> {{ request.providerName }}</p>

    <!-- Accept Button with click event -->
    <button (click)="acceptRequest(request)"
      class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition cursor-pointer">
      Accept
    </button>

    <!-- Reject Button with conditional disabling -->
    <button (click)="rejectRequest(request.id)" [disabled]="request.isAccepted"
      class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition ml-2 cursor-pointer"
      [ngClass]="{ 'opacity-50 cursor-not-allowed': request.isAccepted }"
      >
      Reject
    </button>

  </div>
</div>